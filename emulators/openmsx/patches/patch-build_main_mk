Fix compiler detection by using CHOSEN_COMPILER not CXX
(ports-gcc does not know `-fconstexpr-steps`)

Index: build/main.mk
--- build/main.mk.orig
+++ build/main.mk
@@ -94,7 +94,7 @@ LDFLAGS:=
 ifneq ($(filter mingw%,$(OPENMSX_TARGET_OS)),)
 LINK_FLAGS:=-pthread
 else
-LINK_FLAGS:=-pthread -ldl
+LINK_FLAGS:=-pthread
 endif
 # Flags that specify the target platform.
 # These should be inherited by the 3rd party libs Makefile.
@@ -315,7 +315,7 @@ LINK_FLAGS+=$(TARGET_FLAGS)
 CXX?=g++
 WINDRES?=windres
 DEPEND_FLAGS:=
-ifneq ($(filter %clang++,$(CXX))$(filter clang++%,$(CXX)),)
+ifeq ($(CHOSEN_COMPILER),base-clang)
   # Enable C++23 (partially supported since clang-17)
   # apple-clang still needs -std=c++2b
   COMPILE_FLAGS+=-std=c++2b -fconstexpr-steps=2000000
@@ -327,7 +327,7 @@ ifneq ($(filter %clang++,$(CXX))$(filter clang++%,$(CX
   CC:=$(subst clang++,clang,$(CXX))
   DEPEND_FLAGS+=-MP
 else
-ifneq ($(filter %g++,$(CXX))$(filter g++%,$(CXX))$(findstring /g++-,$(CXX)),)
+ifeq ($(CHOSEN_COMPILER),ports-gcc)
   # Generic compilation flags.
   COMPILE_FLAGS+=-pipe
   # Enable C++23  (partially supported since gcc-11)
