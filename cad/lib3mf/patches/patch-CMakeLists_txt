https://src.fedoraproject.org/rpms/lib3mf/pull-request/6

Index: CMakeLists.txt
--- CMakeLists.txt.orig
+++ CMakeLists.txt
@@ -1,13 +1,8 @@
-cmake_minimum_required (VERSION 3.0)
+cmake_minimum_required (VERSION 3.5...4.0) 
 
-cmake_policy(SET CMP0054 NEW)
-cmake_policy(SET CMP0048 NEW)
 
-
 set_property(GLOBAL PROPERTY USE_FOLDERS ON)
 
-include(GNUInstallDirs)
-
 # Define Version
 set(LIB3MF_VERSION_MAJOR 2)        # increase on every backward-compatibility breaking change of the API
 set(LIB3MF_VERSION_MINOR 4)        # increase on every backward compatible change of the API
@@ -24,10 +19,13 @@ if(buildcache_program)
   set_property(GLOBAL PROPERTY RULE_LAUNCH_COMPILE "${buildcache_program}")
 endif()
 
-set(CMAKE_INSTALL_BINDIR bin CACHE PATH "directory for installing binary files")
-set(CMAKE_INSTALL_LIBDIR lib CACHE PATH "directory for installing library files")
-set(CMAKE_INSTALL_INCLUDEDIR include/lib3mf CACHE PATH "directory for installing header files")
 
+
+
+include(GNUInstallDirs)
+
+set(LIB3MF_INSTALL_INCLUDEDIR ${CMAKE_INSTALL_INCLUDEDIR}/lib3mf CACHE PATH "directory for installing header files")
+
 option(USE_INCLUDED_ZLIB "Use included zlib" ON)
 option(USE_INCLUDED_LIBZIP "Use included libzip" ON)
 option(USE_INCLUDED_SSL "Use included libressl" ON)
@@ -201,7 +199,8 @@ if (USE_INCLUDED_LIBZIP)
 else()
     find_package(PkgConfig REQUIRED)
     pkg_check_modules(LIBZIP REQUIRED libzip)
-    target_link_libraries(${PROJECT_NAME} ${LIBZIP_LIBRARIES})
+    target_link_libraries(${PROJECT_NAME} ${LIBZIP_LINK_LIBRARIES})
+    target_include_directories(${PROJECT_NAME} PUBLIC ${LIBZIP_INCLUDE_DIRS})
 endif()
 
 
@@ -210,7 +209,8 @@ if (USE_INCLUDED_ZLIB)
 else()
     find_package(PkgConfig REQUIRED)
     pkg_check_modules(ZLIB REQUIRED zlib)
-    target_link_libraries(${PROJECT_NAME} ${ZLIB_LIBRARIES})
+    target_link_libraries(${PROJECT_NAME} ${ZLIB_LINK_LIBRARIES})
+    target_include_directories(${PROJECT_NAME} PUBLIC ${ZLIB_INCLUDE_DIRS})
 endif()
 
 
@@ -267,7 +267,7 @@ install(TARGETS ${PROJECT_NAME}
   ARCHIVE DESTINATION "${CMAKE_INSTALL_LIBDIR}"
   LIBRARY DESTINATION "${CMAKE_INSTALL_LIBDIR}"
   RUNTIME DESTINATION "${CMAKE_INSTALL_BINDIR}")
-install(DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR_AUTOGENERATED}/Bindings DESTINATION "${CMAKE_INSTALL_INCLUDEDIR}")
+install(DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR_AUTOGENERATED}/Bindings DESTINATION "${LIB3MF_INSTALL_INCLUDEDIR}")
 
 #########################################################
 option(LIB3MF_TESTS "Switch whether the tests of lib3mf should be build" ON)
