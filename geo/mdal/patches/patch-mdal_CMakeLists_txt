$OpenBSD: patch-mdal_CMakeLists_txt,v 1.7 2021/10/23 09:15:52 landry Exp $

version the .so

Index: mdal/CMakeLists.txt
--- mdal/CMakeLists.txt.orig
+++ mdal/CMakeLists.txt
@@ -161,6 +161,11 @@ IF (BUILD_SHARED OR ENABLE_TESTS)
   ENDIF(WIN32)
 ENDIF (BUILD_SHARED OR ENABLE_TESTS)
 
+set_target_properties(mdal PROPERTIES
+  VERSION ${LIBmdal_VERSION}
+  SOVERSION ${LIBmdal_VERSION}
+)
+
 # LINK
 FOREACH(LIB_NAME ${MDAL_LIBS})
   TARGET_INCLUDE_DIRECTORIES(${LIB_NAME}
@@ -196,8 +201,8 @@ FOREACH(LIB_NAME ${MDAL_LIBS})
   ENDIF(XML_FOUND)
 
   IF(SQLITE3_FOUND)
-    TARGET_INCLUDE_DIRECTORIES(${LIB_NAME} PRIVATE ${SQLITE3_INCLUDE_DIR})
-    TARGET_LINK_LIBRARIES(${LIB_NAME} PUBLIC ${SQLITE3_LIBRARIES} )
+    TARGET_INCLUDE_DIRECTORIES(${LIB_NAME} PRIVATE ${SQLite3_INCLUDE_DIR})
+    TARGET_LINK_LIBRARIES(${LIB_NAME} PUBLIC ${SQLite3_LIBRARY} )
   ENDIF(SQLITE3_FOUND)
 ENDFOREACH(LIB_NAME ${MDAL_LIBS})
 
