Index: CMakeLists.txt
--- CMakeLists.txt.orig
+++ CMakeLists.txt
@@ -51,7 +51,11 @@ find_package(Qt${QT_MAJOR_VERSION} ${QT_MIN_VERSION} N
 )
 
 # building QADS or Xlsx requires Qt${QT_VERSION_MAJOR}GuiPrivate (QADS is required, Xlsx is optional)
-find_package(Qt${QT_MAJOR_VERSION}Gui ${QT_MIN_VERSION} CONFIG REQUIRED Private)
+if (Qt6Gui_VERSION VERSION_GREATER_EQUAL 6.10.0)
+    find_package(Qt6GuiPrivate ${QT_MIN_VERSION} CONFIG REQUIRED)
+else()
+    find_package(Qt${QT_MAJOR_VERSION}Gui ${QT_MIN_VERSION} CONFIG REQUIRED Private)
+endif()
 
 find_package(KF${KF_MAJOR_VERSION} ${KF_MIN_VERSION} REQUIRED COMPONENTS
     Archive
@@ -121,7 +125,7 @@ endif()
 set (GENERIC_FLAGS "-Wall -Wextra -Wundef -Wpointer-arith -Wunreachable-code -Wunused -Wdeprecated-declarations -fno-omit-frame-pointer -fstack-protector-strong")
 #set (GENERIC_GNU_FLAGS "${COMPILER_OPTIMIZATION_FLAG} -Wcast-align -Wswitch-enum -fvisibility=default -pedantic")
 set (GENERIC_GNU_FLAGS "${COMPILER_OPTIMIZATION_FLAG} -Wcast-align -Wswitch-enum -fvisibility=default -pedantic -ffunction-sections -fdata-sections -pipe")
-if(NOT APPLE)
+if(NOT APPLE AND NOT CMAKE_SYSTEM_NAME MATCHES "OpenBSD")
     set (GENERIC_GNU_LINK_FLAGS "-Wl,--gc-sections -Wl,--as-needed -Wl,--no-undefined")
 endif()
 set (GENERIC_C_FLAGS "${GENERIC_FLAGS} -fno-exceptions")
@@ -705,11 +709,11 @@ else()
 endif()
 
 # Qt Advanced Docking System (required) #####################
-find_package(qt${QT_VERSION_MAJOR}advanceddocking CONFIG QUIET NAMES qt${QT_VERSION_MAJOR}advanceddocking qtadvanceddocking-qt${QT_VERSION_MAJOR})
-if(qt${QT_VERSION_MAJOR}advanceddocking_FOUND AND NOT TARGET ads::qt${QT_VERSION_MAJOR}advanceddocking)
+find_package(qtadvanceddocking-qt${QT_VERSION_MAJOR} CONFIG QUIET)
+if(qtadvanceddocking-qt${QT_VERSION_MAJOR}_FOUND)
     add_library(ads::qt${QT_VERSION_MAJOR}advanceddocking ALIAS ads::qtadvanceddocking-qt${QT_VERSION_MAJOR})
 endif()
-if(NOT qt${QT_VERSION_MAJOR}advanceddocking_FOUND)
+if(NOT qtadvanceddocking-qt${QT_VERSION_MAJOR}_FOUND)
     option(LOCAL_QT_ADVANCED_DOCK_DOWNLOAD "Use local build of qt advanced dock downloaded directly from the git repository" OFF)
     option(LOCAL_QT_ADVANCED_DOCK_COPY "Use local build of qt advanced dock copied into the Qt-Advanced-Docking-System subfolder" ON)
     if(TARGET Qt${QT_VERSION_MAJOR}::GuiPrivate)
