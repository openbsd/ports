$OpenBSD: patch-epm_epm-3_7_patch,v 1.2 2006/08/20 03:36:52 kurt Exp $
--- epm/epm-3.7.patch.orig.port	Wed Jul 19 05:36:49 2006
+++ epm/epm-3.7.patch	Fri Aug 18 15:47:42 2006
@@ -623,6 +623,35 @@
                 file->dst);
         fprintf(fp, "@exec /bin/chmod %04o %s\n", file->mode, file->dst);
       }
+*** misc/epm-3.7/portable.c	Wed Jul 23 17:41:08 2003
+--- misc/build/epm-3.7/portable.c	Thu Aug 10 09:54:13 2006
+***************
+*** 1515,1525 ****
+    fputs("# Determine correct extract options for the tar command...\n", fp);
+    fputs("if test `uname` = Darwin; then\n", fp);
+    fputs("	ac_tar=\"tar -xpPf\"\n", fp);
+    fputs("else if test \"`tar --help 2>&1 | grep GNU`\" = \"\"; then\n", fp);
+    fputs("	ac_tar=\"tar -xpf\"\n", fp);
+    fputs("else\n", fp);
+    fputs("	ac_tar=\"tar -xpPf\"\n", fp);
+!   fputs("fi fi\n", fp);
+  
+    return (0);
+  }
+--- 1515,1527 ----
+    fputs("# Determine correct extract options for the tar command...\n", fp);
+    fputs("if test `uname` = Darwin; then\n", fp);
+    fputs("	ac_tar=\"tar -xpPf\"\n", fp);
++   fputs("else if test `uname` = OpenBSD; then\n", fp);
++   fputs("	ac_tar=\"tar -xpPf\"\n", fp);
+    fputs("else if test \"`tar --help 2>&1 | grep GNU`\" = \"\"; then\n", fp);
+    fputs("	ac_tar=\"tar -xpf\"\n", fp);
+    fputs("else\n", fp);
+    fputs("	ac_tar=\"tar -xpPf\"\n", fp);
+!   fputs("fi fi fi\n", fp);
+  
+    return (0);
+  }
 *** misc/epm-3.7/qprintf.c	Tue Jan 28 06:48:03 2003
 --- misc/build/epm-3.7/qprintf.c	Thu Jan 19 17:04:22 2006
 ***************
