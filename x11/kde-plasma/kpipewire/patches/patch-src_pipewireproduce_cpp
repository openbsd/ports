Index: src/pipewireproduce.cpp
--- src/pipewireproduce.cpp.orig
+++ src/pipewireproduce.cpp
@@ -25,6 +25,9 @@
 
 #include "logging_frame_statistics.h"
 
+#include <pthread.h>
+#include <pthread_np.h>
+
 extern "C" {
 #include <fcntl.h>
 }
@@ -174,7 +177,7 @@ void PipeWireProduce::setupStream()
             m_outputCondition.notify_all();
         }
     });
-    pthread_setname_np(m_passthroughThread.native_handle(), "PipeWireProduce::passthrough");
+    pthread_set_name_np(m_passthroughThread.native_handle(), "PipeWireProduce::passthrough");
 
     m_outputThread = std::thread([this]() {
         m_outputRunning = true;
@@ -196,7 +199,7 @@ void PipeWireProduce::setupStream()
             QMetaObject::invokeMethod(this, &PipeWireProduce::handleEncodedFramesChanged, Qt::QueuedConnection);
         }
     });
-    pthread_setname_np(m_outputThread.native_handle(), "PipeWireProduce::output");
+    pthread_set_name_np(m_outputThread.native_handle(), "PipeWireProduce::output");
 
     if (m_frameStatisticsTimer) {
         m_frameStatisticsTimer->start();
