https://codereview.qt-project.org/c/qt/qtbase/+/651677

Index: src/network/socket/qnativesocketengine_unix.cpp
--- src/network/socket/qnativesocketengine_unix.cpp.orig
+++ src/network/socket/qnativesocketengine_unix.cpp
@@ -1429,7 +1429,7 @@ int QNativeSocketEnginePrivate::nativeSelect(QDeadline
     }
 
     static const short read_flags = POLLIN | POLLHUP | POLLERR;
-    static const short write_flags = POLLOUT | POLLERR;
+    static const short write_flags = POLLOUT | POLLHUP | POLLERR;
 
     *selectForRead = ((pfd.revents & read_flags) != 0);
     *selectForWrite = ((pfd.revents & write_flags) != 0);
