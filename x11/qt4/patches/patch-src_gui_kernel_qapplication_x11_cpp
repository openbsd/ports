$OpenBSD: patch-src_gui_kernel_qapplication_x11_cpp,v 1.3 2005/12/31 15:59:50 espie Exp $
--- src/gui/kernel/qapplication_x11.cpp.orig	Fri Dec 16 12:52:04 2005
+++ src/gui/kernel/qapplication_x11.cpp	Thu Dec 29 15:06:27 2005
@@ -417,7 +417,7 @@ static int qt_x_errhandler(Display *dpy,
     XGetErrorText( dpy, err->error_code, errstr, 256 );
     char buffer[256];
     char request_str[256];
-    sprintf(buffer, "%d", err->request_code);
+    snprintf(buffer, 256, "%d", err->request_code);
     XGetErrorDatabaseText(dpy, "XRequest", buffer, "", request_str, 256);
     if (err->request_code < 128) {
         // X error for a normal protocol request
@@ -440,11 +440,11 @@ static int qt_x_errhandler(Display *dpy,
 
         char minor_str[256];
         if (extensionName) {
-            sprintf(buffer, "%s.%d", extensionName, err->minor_code);
+            snprintf(buffer, 256, "%s.%d", extensionName, err->minor_code);
             XGetErrorDatabaseText(dpy, "XRequest", buffer, "", minor_str, 256);
         } else {
             extensionName = "Uknown extension";
-            sprintf(minor_str, "Unknown request");
+            snprintf(minor_str, 256, "Unknown request");
         }
         qWarning( "X Error: %s %d\n"
                   "  Extension:    %d (%s)\n"
