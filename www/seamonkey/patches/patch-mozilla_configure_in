$OpenBSD: patch-mozilla_configure_in,v 1.2 2011/07/24 07:31:57 landry Exp $
https://bugzilla.mozilla.org/show_bug.cgi?id=648721
--- mozilla/configure.in.orig	Mon Jun 27 05:10:29 2011
+++ mozilla/configure.in	Sun Jul  3 15:30:19 2011
@@ -2626,7 +2626,12 @@ ia64*-hpux*)
 	;;
 
 *-openbsd*)
-    DLL_SUFFIX=".so.1.0"
+    if test "$SO_VERSION"; then
+        DLL_SUFFIX=".so.$SO_VERSION"
+    else
+        DLL_SUFFIX=".so.1.0"
+    fi
+    MOZ_FIX_LINK_PATHS='-Wl,-rpath-link,$(LIBXUL_DIST)/bin -Wl,-rpath-link,$(prefix)/lib -Wl,-rpath-link,$(if $(X11BASE),$(X11BASE),/usr/X11R6)/lib'
     DSO_CFLAGS=''
     DSO_PIC_CFLAGS='-fPIC'
     DSO_LDOPTS='-shared -fPIC'
@@ -4451,7 +4456,7 @@ if test "$ac_cv_thread_keyword" = yes; then
       :
       ;;
     *)
-      AC_DEFINE(HAVE_THREAD_TLS_KEYWORD)
+      :
       ;;
   esac
 fi
