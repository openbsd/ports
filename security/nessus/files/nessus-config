#!/bin/sh
#
#   Nessus libraries configuration script
#
#   Original by dug song <dugsong@monkey.org>
#   Enhanced by Matt Behrens <matt@openbsd.org>
#

VERSION=@@VERS@@
LIBDIR=@@WRKSRC@@/nessus-libraries
COREDIR=@@WRKSRC@@/nessus-core
CIPHER="-L$LIBDIR/libpeks/.libs -L@@PREFIX@@/lib -lpeks -lgmp -lz"
CIPHER_CFLAGS="-DENABLE_CRYPTO_LAYER -I$LIBDIR/libpeks"
EXTRA="-lresolv  "

usage()
{
 echo "Usage : nessus-config [ --cflags | --libs | --version ]"
 exit $1
}


test $# -gt 0 || usage 1


# check whether we have echo -n, depending
# on the current shell, used
case `echo -n` in
\-n)	Xn=   ; Xc='\c' ;;
*)	Xn=-n ; Xc=
esac

while test $# -gt 0; do
 case "$1" in
	--version)
		echo $VERSION
		exit 0
		;;
	--libs)
		echo $Xn "-L$LIBDIR/libnessus/.libs -lnessus -L$LIBDIR/libhosts_gatherer/.libs -lhosts_gatherer -lpcap $CIPHER $EXTRA $Xc"
		;;
	--cflags)
		echo $Xn "-I$COREDIR/include -I$LIBDIR/include $CIPHER_CFLAGS $Xc"
		;;
	--help | -h)
		usage 0
		;;
	*)
		usage 1
		;;
 esac
 shift
done

echo 	
