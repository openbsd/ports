$OpenBSD: patch-tests_Makefile,v 1.4 2009/03/26 22:09:53 jasper Exp $

- Remove GNU make crap that never applied to us anyway.

--- tests/Makefile.orig	Thu Feb 19 11:41:01 2009
+++ tests/Makefile	Thu Mar 26 23:06:05 2009
@@ -4,37 +4,18 @@ UTILS = emit_keys
 PROGS = test1 test2 test3 test4 test5 test6 test7 test8 test9   \
 		    test10 test11 test12 test13 test14 test15 test16 test17 \
         test18 test19 test20 test21 test22 test23 test24
-CFLAGS = -I$(HASHDIR) 
-CFLAGS += -O3
-CFLAGS += -Wall 
+CFLAGS += -I$(HASHDIR) 
+CFLAGS += -O2
+CFLAGS += -Wall
 
-ifeq ($(HASH_DEBUG),1)
-CFLAGS += -DHASH_DEBUG=1
-endif
-
-ifeq ($(HASH_PEDANTIC),1)
-CFLAGS += -pedantic 
-endif
-
 TEST_TARGET=run_tests
 TESTS=./do_tests
 
-# Prefer 64-bit compilation on Mac OS X (not necessary, just faster)
-ifneq ($(strip $(shell $(CC) -v 2>&1 |egrep "i[0-9]+-apple-darwin")),)
-  CFLAGS += -m64
-endif
-
+# gnu make idiom...
 # detect Cygwin
-ifneq ($(strip $(shell $(CC) -v 2>&1 |grep "cygwin")),)
-  TESTS=./do_tests.cygwin
-endif
-
-# detect MinGW
-ifneq ($(strip $(shell $(CC) -v 2>&1 |grep "mingw")),)
-  TEST_TARGET=run_tests_mingw
-  TESTS=./do_tests.mingw
-endif
-
+#ifneq ($(strip $(shell $(CC) -v 2>&1 |grep "cygwin")),)
+#  TESTS=./do_tests.cygwin
+#endif
 
 all: $(PROGS) $(UTILS) $(FUNCS) $(TEST_TARGET)
 
