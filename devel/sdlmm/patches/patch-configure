Index: configure
--- configure.orig
+++ configure
@@ -1178,7 +1178,7 @@ cat > conftest.$ac_ext << EOF
 #line 1179 "configure"
 #include "confdefs.h"
 
-main(){return(0);}
+int main(void){return(0);}
 EOF
 if { (eval echo configure:1184: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
   ac_cv_prog_cc_works=yes
@@ -5876,7 +5876,6 @@ fi
     echo "$ac_t""no" 1>&6
   fi
 
-CXXFLAGS="`echo $CXXFLAGS | sed s/-O2//`"
 if test "x${GXX-}" = xyes ; then
   WARN="-W -Wall -Wno-unused -Wcast-align"
   
@@ -5888,7 +5887,7 @@ echo "configure:5886: checking -O3" >&5
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   
-    CXXFLAGS="$OLD_CXXFLAGS -O3"
+    CXXFLAGS="$OLD_CXXFLAGS"
     if test "$cross_compiling" = yes; then
   sdlmm_cv_option_O3=no
 else
@@ -5919,7 +5918,7 @@ fi
   CXXFLAGS="$OLD_CXXFLAGS"
   
   if test x"$sdlmm_cv_option_O3" = "xyes" ; then
-    OPTIMIZE="$OPTIMIZE -O3"
+    OPTIMIZE="$OPTIMIZE"
     echo "$ac_t""yes" 1>&6
   else
     echo "$ac_t""no" 1>&6
