Index: configure
--- configure.orig
+++ configure
@@ -1055,7 +1055,7 @@ cat > conftest.$ac_ext << EOF
 #line 1056 "configure"
 #include "confdefs.h"
 
-main(){return(0);}
+int main(void){return(0);}
 EOF
 if { (eval echo configure:1061: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
   ac_cv_prog_cc_works=yes
@@ -2001,9 +2001,10 @@ else
   cat > conftest.$ac_ext <<EOF
 #line 2003 "configure"
 #include "confdefs.h"
+#include <sys/types.h>
 #include <sys/socket.h>
 int main() {
-socklen_t len = 42; return len;
+socklen_t x;
 ; return 0; }
 EOF
 if { (eval echo configure:2010: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
